CORTEXEX - QUICK DEPLOYMENT INSTRUCTIONS
=======================================

1) Prerequisites
  - Docker & docker-compose or Node+Postgres installed.
  - Domain + nginx if exposing on the web.

2) Basic deploy (Docker Compose)
  - Copy env: `cp .env.example .env` and edit values.
  - Build & start: `docker-compose up -d --build`
  - Check: `docker-compose ps` and `docker-compose logs -f`.

3) File permissions (make scripts executable)
  - `chmod +x scripts/backup.sh scripts/init-db.sh scripts/migrate-db.sh`

4) Cron / backups
  - Install crontab entry for host (example daily 02:00):
    `echo "0 2 * * * /absolute/path/to/project/scripts/backup.sh >> /var/log/cortexex-backup.log 2>&1" | crontab -`
  - Or use the Docker backup service (see docker-compose). Verify with `crontab -l`.

5) Nginx (reverse proxy) minimal notes
  - Proxy root path (example `/cortexex`) to frontend:
    location /cortexex/ {
      proxy_pass http://127.0.0.1:3000/;
      proxy_set_header Host $host;
      proxy_set_header X-Real-IP $remote_addr;
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      proxy_set_header X-Forwarded-Proto $scheme;
      proxy_set_header X-Forwarded-Prefix /cortexex;
      proxy_http_version 1.1;
      proxy_set_header Upgrade $http_upgrade;
      proxy_set_header Connection "upgrade";
    }
  - Proxy API `/api` to backend (port 5000):
    location /api/ { proxy_pass http://127.0.0.1:5000/; }
  - Test and reload: `sudo nginx -t && sudo systemctl reload nginx`.

6) Quick verify
  - Frontend: visit `https://yourdomain/cortexex`
  - API: `curl -s https://yourdomain/api/health` or open `/api`
  - DB: `docker-compose exec db psql -U $DB_USER -d $DB_NAME -c "\dt"`

7) Useful commands
  - Start: `docker-compose up -d --build`
  - Stop: `docker-compose down`
  - Logs: `docker-compose logs -f`
  - Rebuild service: `docker-compose up -d --build <service>`

Keep this file short â€” see `DEPLOYMENT_INSTRUCTIONS.txt` for an expanded guide.
